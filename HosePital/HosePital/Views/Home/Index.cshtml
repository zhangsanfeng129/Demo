@{
    ViewBag.Title = "张三丰的酒店";
    Layout = "~/Views/_Layout/_Layout.cshtml";
}

<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <div class="layui-logo">吾爱有三后台布局</div>
    <!-- 头部区域（可配合layui已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
      <li class="layui-nav-item"><a href="#">控制台</a></li>
      <li class="layui-nav-item"><a href="#">商品管理</a></li>
      <li class="layui-nav-item"><a href="#">用户</a></li>
      <li class="layui-nav-item">
        <a href="javascript:;">其它系统</a>
        <dl class="layui-nav-child">
          <dd><a href="#">邮件管理</a></dd>
          <dd><a href="#">消息管理</a></dd>
          <dd><a href="#">授权管理</a></dd>
        </dl>
      </li>
    </ul>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
            @*获取url中的参数*@
        @ViewContext.RequestContext.HttpContext.Request.Params["LoginName"]
        </a>
        <dl class="layui-nav-child">
          <dd><a href="#">基本资料</a></dd>
          <dd><a href="#">安全设置</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item"><a href="#">退了</a></li>
    </ul>
  </div>
  
  <div class="layui-side layui-bg-black">
    <div class="layui-side-scroll">
      <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
      <ul class="layui-nav layui-nav-tree" lay-filter="test">
        <li class="layui-nav-item layui-nav-itemed">
          <a class="" href="javascript:;">商品管理</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" class="Menu" data-title="商品操作" data-url="http://www.baidu.com" data-id="1">商品操作</a></dd>
            <dd><a href="javascript:;" class="Menu" data-title="文件上传" data-url="/Customer/" data-id="2">列表二</a></dd>
            <dd><a href="javascript:;" class="Menu" data-title="列表三" data-url="http://www.baidu.com" data-id="3">列表三</a></dd>
            
          </dl>
        </li>
        <li class="layui-nav-item">
          <a href="javascript:;">员工管理</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" class="Menu" data-title="员工操作" data-url="/Defalut/Exmpress" data-id="4">员工操作</a></dd>
            <dd><a href="javascript:;" class="Menu" data-title="新增员工" data-url="/AddEx/Index" data-id="5">新增员工</a></dd>
           
          </dl>
        </li>
          <li class="layui-nav-item">
          <a href="javascript:;">房间管理</a>
          <dl class="layui-nav-child">
            <dd><a href="javascript:;" class="Menu" data-title="房间操作" data-url="/RoomS/Index" data-id="6">房间操作</a></dd>
               <dd><a href="javascript:;" class="Menu" data-title="文件管理" data-url="/Customer/Customer" data-id="8">文件管理</a></dd>
            <dd><a href="javascript:;"class="Menu" data-title="入住人员管理" data-url="/Room/Index" data-id="7">入住人员管理</a></dd>
           
          </dl>
        </li>
      </ul>
    </div>
  </div>
  
  <div class="layui-body">
    <!-- 内容主体区域 -->
   <div class="layui-tab tab" lay-allowClose="true" lay-filter="tabadd" >
                        <ul class="layui-tab-title">
						<li class="layui-this" lay-id="111" >欢迎您</li>
						</ul>
     
         <div class="layui-tab-content">
              <div class="layui-tab-item layui-show">放css3和操作dom元素</div>
         </div>
  </div>
  
  <div class="layui-footer">
    <!-- 底部固定区域 -->
    © - 嘿！干活累了吧，休息一会儿！
  </div>
      </div>
</div>
 <script src="~/Js/Layui/js/layui/layui.all.js"></script>
    <script src="~/Js/jquery-3.4.1/jquery-3.4.1.js"></script>
<script>
   
//JavaScript代码区域
    layui.use(['element', 'jquery'], function () {
        var element = layui.element;
        var $ = layui.jquery;
      //选项卡功能
        $(".Menu").click(function () {
            var dataid = $(this);//变成jquery对象
            if ($(".layui-tab-title li[lay-id]").length <= 0) {
                element.tabAdd('tabadd', {
                    title: dataid.attr("data-title"),
                    content: '<iframe data-frameid="' + dataid.attr("data-id") + '" scrolling="auto" frameborder="0" src="' + dataid.attr("data-url") + '" style="width:100%;height:99%;"></iframe>',
                    id: dataid.attr("data-id")

                })
            }
            else {
                var isData = false; //初始化一个标志，为false说明未打开该tab项 为true则说明已有
                $.each($(".layui-tab-title li[lay-id]"), function () {
                    //如果点击左侧菜单栏所传入的id 在右侧tab项中的lay-id属性可以找到，则说明该tab项已经打开
                    if ($(this).attr("lay-id") == dataid.attr("data-id")) {
                        isData = true;
                    }
                })
                if (isData == false) {
                    //标志为false 新增一个tab项
                    element.tabAdd('tabadd', {

                        title: dataid.attr("data-title"),
                        content: '<iframe data-frameid="' + dataid.attr("data-id") + '" scrolling="auto" frameborder="0" src="' + dataid.attr("data-url") + '" style="width:99%;height:99%;"></iframe>',
                        id: dataid.attr("data-id")
                    })
                }

            }
         
            element.tabChange('tabadd', dataid.attr('data-id'))
        })
        //调整tab高度要调整layui-tab-item属性heigth改为1000px;
       
       
    })
</script>
</body>

